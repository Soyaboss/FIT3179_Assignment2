<!DOCTYPE html>
<html>
<head>
  
  <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>
  
  
  <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">
</head>
<body>

  <div class="page">
    <h1>
      Public Transport Insights in Kuala Lumpur
    </h1>

    <div id="title-description" class="description-paragraph">
      This visualization offers a comprehensive view of three of Kuala Lumpur’s rail network: <b>fare relationships</b> <br> between stations,
      a <b>station map</b> for spatial context, and <b>daily ridership trends with interactive filtering</b>.<br>Explore the data to better understand 
      public transport trends in Kuala Lumpur.
    </div>

    <!-- 1) Fare Rates -->
    <h2>
      How do fares vary between origin–destination station pairs?
    </h2>

    <div class="flex-container">
      <div class="idiom" id="fare_rates_heatmap"></div>

      <div class="description">
        <p>
          Explore the <b>fare matrix</b> across the various stations. Use the slider below the map to filter by price or to 
          find routes with <b>higher or lower fares</b>.
        </p>
        <p>
          Hover to see the exact <b>Origin → Destination</b> pair and fare value.
        </p>
      </div>
    </div>

    <h2 class="text">
      Where are the LRT stations located?
    </h2>

    <div class="flex-container reverse">
      <div class="idiom">
        <div id="lrt_stations_map" class="vis-container"></div>
      </div>

      <div class="description">
        <p>
          The map shows <b>station locations</b> and with <b>line filters</b>. This helps better understand the spatial coverage
          and proximity between LRT lines in Kuala Lumpur. If you filter by the Kelana Jaya Line, the line extends all the way from Batu Caves to Puchong
          which covers a distance of nearly <b>35km</b>.
        </p>
      </div>
    </div>

    <h2>
      How has daily ridership changed over time?
    </h2>

    <div class="flex-container">
      <div class="idiom">
        <div id="lrt_mrt_ridership" class="vis-container"></div>
      </div>

      <div class="description">
        <p>
          Interact with the <b>date picker</b> or <b>mode filter</b> to zoom into specific periods and
          compare <b>LRT vs MRT</b> lines. If you filter by 2020, we can see a <b>massive</b> decrease in <b> 2020 </b> this was
          due to the covid pandemic which the SOP procedures prevented the use of public transport during that time. Subsequently, there was a major spike on
          <b>Jan 1 , 2025</b> due to the new years celebration, which encouraged many people to use public transport during that day.
        </p>
      </div>
    </div>

    <h2>Which days see higher average ridership?</h2>
    <div class="flex-container reverse">
      <div class="idiom">
        <div id="ridership_day" class="vis-container"></div>
      </div>
      <div class="description">
        <p>
          This chart shows <b>average ridership by day of week</b>. Use the controls to filter by <b>line</b> and <b>day type</b> (weekday/weekend).
          Weekdays typically peak on <b>Tuesday–Thursday</b> with commuting, while weekends often dip except for <b>Saturday</b> leisure patterns.
        </p>
      </div>
    </div>

  </div>

  <footer>
     <p>This visualization is created by Lionel Wong (33592268) for FIT3179 Data Visualization 2, Semester 2 2025.</p>
     <p>Data source is from <a href="https://data.gov.my/data-catalogue/ridership_headline">https://data.gov.my/data-catalogue/ridership_headline</a>,
       <a href="https://www.kaggle.com/datasets/aisyahhrazak/public-transport-in-malaysia-lrt-mrt-ktm">https://www.kaggle.com/datasets/aisyahhrazak/public-transport-in-malaysia-lrt-mrt-ktm</a>
       and <a href="https://www.kaggle.com/datasets/niknmarjan/myrapidkl-train-dataset?select=Fare.csv">https://www.kaggle.com/datasets/niknmarjan/myrapidkl-train-dataset?select=Fare.csv</a> </p>
  </footer>

  <script type="text/javascript">



    var fareSpec = "js/Fare Rates.json";
    vegaEmbed('#fare_rates_heatmap', fareSpec).then(function(result) {
    }).catch(console.error);


    var stationsSpec = "js/LRT stations.json";
    vegaEmbed('#lrt_stations_map', stationsSpec).then(function(result) {
    }).catch(console.error);


    var ridershipSpec = "js/LRT riderships.json";
    vegaEmbed('#lrt_mrt_ridership', ridershipSpec).then(function(result) {
    }).catch(console.error);

    var daySpec = "js/Ridership Day.json";
    vegaEmbed('#ridership_day', daySpec).then(function(result) {
    }).catch(console.error);
  </script>

</body>
</html>
